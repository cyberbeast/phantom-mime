<html>

<head>
  <script src="http://localhost:8080/socket.io/socket.io.js"></script>
  <script src="https://code.jquery.com/jquery-1.11.1.js"></script>
  <script type="text/javascript" src="https://rawgithub.com/craftyjs/Crafty/release/dist/crafty-min.js"></script>
  <script src="assets/js/game.js"></script>
  <script src="assets/js/components.js"></script>
  <script src="assets/js/scenes.js"></script>
  <script src="assets/js/game_grid.js"></script>
  <script>
    console.log('Loading game...');
    $(function () {
      console.log("Establishing socket connection now...");
      var socket = io('/');

      socket.emit('gameInit', {
        data: "something"
      });

      // response
      // {
      //   "event": "gameInit",
      //   "data": {}
      // }

      socket.on('message', function (response) {
        if (response['event'] == 'gameInit')
        {
          var data = response['data'];
        window.addEventListener('load', Game.start(data));
        }
        else
        {
        console.log(data);
        }
      })
    });
  </script>
</head>

<body>
  <a href="/api/login/facebook" target="_self">Login'</a>
</body>

</html>